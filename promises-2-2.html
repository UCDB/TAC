
<html>
    <head>
    <script>

    function fetchImage(text='Bruce Lee', count=5){

    
    const KEY_GIPHY= '';
    let query = text;
    let limit = count;
    const API_GIPHY_URL= `http://api.giphy.com/v1/gifs/search?q=${query}&api_key=${KEY_GIPHY}&limit=${limit}`;

    console.log("Before fetch Giphy")
    
    fetch (API_GIPHY_URL)
    .then(response=>{
    console.log("Inside fetch Giphy first then")
       return response.json()
    })
    .then(json=>{
        console.log("Inside fetch Giphy second then")
        json.data.forEach(element => 
            createImage(element)
        );
    })
    .catch (err=> console.log(`Erro Giphy: ${err}`))
}

   function findText(){
        console.log("Before fetch Text ")
        
        fetch ("https://api.myjson.com/bins/1hkpaf")
        .then (response => { 
            console.log("Inside fetch Text first then")
            return response.json() 
        } )
        .then( (json) => {
            json.forEach( (element) => fetchImage(element.word,3))
           // console.log("Inside fetch Text first then")
            //console.log(json)

        })
        .catch( (err)=> console.log (err) )

   }


    function createImage(element){
       // console.log(element)
        let image = document.createElement("img");
            image.setAttribute("src", element.images.original.url);
            image.setAttribute("width", "300");
            image.setAttribute("title", element.title);
            document.body.appendChild(image);
    }

    findText()
    </script>

    </head>

<body>

  
</body>
</html>